<!DOCTYPE html>
<html>

<head>
  <title>foreach、map比较</title>
  <meta charset="utf-8">
  <style type="text/css">
    * {
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <div>
    <span>
      forEach()方法不会返回执行结果，而是undefined。
      也就是说，forEach()会修改原来的数组。
      而map()方法会得到一个新的数组并返回。
    </span>
  </div>

  <script type="text/javascript">
    //map
    console.log(["1", "2", "3"].map(parseInt));// [1, NaN, NaN]

    function returnInt(element) {
      return parseInt(element, 10);
    }
    console.log(["1", "2", "3"].map(returnInt));//[1, 2, 3]
    
    //考试遇到
    var newArr = ['1024','2048','4096'].map(parseFloat)//[1024, 2048, 68389]

    /////////////////////////////////////////////////
    var array = [10, 34, 57, 43, 76];
    var res = array.forEach(function (item, index, input) {
      input[index] = item * 10;
    })
    console.log(res);//--> undefined;  
    console.log(array);//--> 通过数组索引改变了原数组；[100, 340, 570, 430, 760]
    //////////////////////////////////
    var array = [10, 34, 57, 43, 76];
    var res = array.map(function (item, index, input) {
      return item * 10;
    })
    console.log(res);//[100, 340, 570, 430, 760]
    console.log(array); //不变 [10, 34, 57, 43, 76]



    // parseInt()默认有两个参数，
    // 第二个参数是进制数。当parsrInt没有传入参数的时候，
    // 而map()中的回调函数时候,而会给它传三个参数，第二个参数就是索引，明显不正确，所以返回NaN了。

    //foreach、map比较
    // var array = [1, 3, 4, 6, 7, 0];
    // array.forEach((arr, index) => {
    //   console.log(array[index] = arr * 2);
    //   //js_输出问题.html:184 2
    //   // js_输出问题.html:184 6
    //   // js_输出问题.html:184 8
    //   // js_输出问题.html:184 12
    //   // js_输出问题.html:184 14
    //   // js_输出问题.html:184 0
    // });
    // console.log(array);//[2, 6, 8, 12, 14, 0]

    // var array = [1, 3, 4, 6, 7, 0];
    // array.forEach((arr, index) => {
    //   console.log(arr[index] = arr * 2);
    //   console.log(typeof (arr[index]));//undefined
    //   // js_输出问题.html:190 2
    //   // js_输出问题.html:190 6
    //   // js_输出问题.html:190 8
    //   // js_输出问题.html:190 12
    //   // js_输出问题.html:190 14
    //   // js_输出问题.html:190 0 
    // });
    // console.log(array);//[1, 3, 4, 6, 7, 0]

    // let array2 = array.map(num => num * 2);
    // console.log(array2);//[2, 6, 8, 12, 14, 0]
    // console.log(array);//[1, 3, 4, 6, 7, 0]

    // let array2_1 = array.map(num => num * 2).filter(num => num > 10);
    // console.log(array2_1);//[12, 14]
    // console.log(array);//[1, 3, 4, 6, 7, 0]
  </script>
</body>

</html>